<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Order Confirmed - <%= siteName %></title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #f5f7fa; }
    
    .header { background: linear-gradient(135deg, #1a237e 0%, #3949ab 100%); color: white; padding: 15px 0; }
    .header-container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
    .logo { font-size: 26px; font-weight: bold; text-decoration: none; color: white; display: flex; align-items: center; gap: 8px; }
    .logo-icon { width: 40px; height: 40px; background: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #1a237e; font-size: 20px; }
    
    .main-container { max-width: 800px; margin: 0 auto; padding: 35px 20px; }
    
    .success-card { background: white; border-radius: 18px; padding: 40px; text-align: center; box-shadow: 0 6px 30px rgba(0,0,0,0.1); }
    
    .success-icon { width: 75px; height: 75px; background: linear-gradient(135deg, #43a047 0%, #2e7d32 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 22px; font-size: 38px; animation: scaleIn 0.5s ease; }
    @keyframes scaleIn { 0% { transform: scale(0); } 50% { transform: scale(1.2); } 100% { transform: scale(1); } }
    
    .success-card h1 { color: #1a237e; font-size: 26px; margin-bottom: 8px; }
    .success-card p { color: #666; margin-bottom: 22px; }
    
    .order-id { background: #e8eaf6; padding: 14px 24px; border-radius: 10px; display: inline-block; font-size: 17px; font-weight: 600; color: #1a237e; margin-bottom: 28px; }
    
    .express-badge { background: linear-gradient(135deg, #1565c0 0%, #1976d2 100%); color: white; padding: 14px 22px; border-radius: 10px; display: inline-block; font-size: 14px; font-weight: 600; margin-bottom: 28px; }
    
    .order-details { text-align: left; margin-top: 28px; }
    .order-details h3 { font-size: 17px; margin-bottom: 14px; color: #1a237e; }
    
    .detail-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 18px; margin-bottom: 28px; }
    .detail-item { background: #f8f9fa; padding: 14px; border-radius: 10px; }
    .detail-item label { font-size: 11px; color: #999; text-transform: uppercase; display: block; margin-bottom: 4px; }
    .detail-item p { font-size: 14px; color: #333; font-weight: 500; }
    
    .items-list { background: #f8f9fa; border-radius: 10px; padding: 18px; margin-bottom: 28px; }
    .items-list h4 { font-size: 13px; color: #666; margin-bottom: 14px; }
    .item-row { display: flex; justify-content: space-between; padding: 9px 0; border-bottom: 1px solid #eee; font-size: 13px; }
    .item-row:last-child { border-bottom: none; }
    
    .total-section { background: linear-gradient(135deg, #1a237e 0%, #3949ab 100%); color: white; padding: 18px; border-radius: 10px; display: flex; justify-content: space-between; align-items: center; }
    .total-section h4 { font-size: 15px; }
    .total-section span { font-size: 22px; font-weight: bold; }
    
    .action-buttons { display: flex; gap: 14px; justify-content: center; margin-top: 28px; }
    .btn { padding: 12px 28px; border-radius: 10px; font-size: 13px; font-weight: 600; text-decoration: none; transition: all 0.3s; }
    .btn-primary { background: #1a237e; color: white; }
    .btn-secondary { background: #f5f5f5; color: #333; }
    .btn:hover { transform: translateY(-2px); }
    .status-paid { color: #43a047; }
    .status-pending { color: #ff9800; }
    .btn:hover { transform: translateY(-2px); }
    
    .timeline { margin-top: 28px; }
    .timeline h3 { font-size: 17px; margin-bottom: 18px; color: #1a237e; }
    .timeline-item { display: flex; gap: 14px; padding: 14px 0; position: relative; }
    .timeline-item::before { content: ''; position: absolute; left: 11px; top: 38px; width: 2px; height: calc(100% - 22px); background: #e0e0e0; }
    .timeline-item:last-child::before { display: none; }
    .timeline-dot { width: 24px; height: 24px; background: #43a047; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 11px; flex-shrink: 0; }
    .timeline-content h4 { font-size: 13px; color: #333; }
    .timeline-content p { font-size: 11px; color: #999; }
  </style>
</head>
<body>
  <header class="header">
    <div class="header-container">
      <a href="/" class="logo"><span class="logo-icon">üè•</span> Apollo Pharmacy</a>
    </div>
  </header>

  <main class="main-container">
    <div class="success-card">
      <div class="success-icon">‚úì</div>
      <h1>Order Placed Successfully!</h1>
      <p>Thank you for ordering with Apollo Pharmacy</p>
      
      <div class="order-id">Order ID: <%= order.orderId %></div>
      <br>
      <div class="express-badge">üöÄ Express Delivery - Expected by Tomorrow</div>
      
      <div class="order-details">
        <h3>Order Information</h3>
        
        <div class="detail-grid">
          <div class="detail-item">
            <label>Order Date</label>
            <p><%= new Date(order.createdAt).toLocaleDateString('en-IN', { day: 'numeric', month: 'long', year: 'numeric' }) %></p>
          </div>
          <div class="detail-item">
            <label>Expected Delivery</label>
            <p><%= new Date(order.estimatedDelivery).toLocaleDateString('en-IN', { day: 'numeric', month: 'long', year: 'numeric' }) %></p>
          </div>
          <div class="detail-item">
            <label>Payment</label>
            <p><%= order.paymentMethod %></p>
          </div>
          <div class="detail-item">
            <label>Status</label>
            <p class="<%= order.paymentStatus === 'completed' ? 'status-paid' : 'status-pending' %>">
              <%= order.paymentStatus === 'completed' ? '‚úì Paid' : '‚è≥ Pending' %>
            </p>
          </div>
        </div>
        
        <div class="items-list">
          <h4>Items (<%= order.items.length %>)</h4>
          <% order.items.forEach(item => { %>
            <div class="item-row">
              <span><%= item.name %> √ó <%= item.quantity %></span>
              <span>‚Çπ<%= item.subtotal.toFixed(2) %></span>
            </div>
          <% }); %>
        </div>
        
        <div class="total-section">
          <h4>Total Paid</h4>
          <span>‚Çπ<%= order.total.toFixed(2) %></span>
        </div>
        
        <div class="timeline">
          <h3>Order Timeline</h3>
          <% order.statusHistory.forEach(status => { %>
            <div class="timeline-item">
              <div class="timeline-dot">‚úì</div>
              <div class="timeline-content">
                <h4><%= status.message %></h4>
                <p><%= new Date(status.timestamp).toLocaleString('en-IN') %></p>
              </div>
            </div>
          <% }); %>
        </div>
      </div>
      
      <div class="action-buttons">
        <a href="/" class="btn btn-primary">Continue Shopping</a>
        <a href="#" class="btn btn-secondary">Track Order</a>
      </div>
    </div>
  </main>
</body>
</html>
